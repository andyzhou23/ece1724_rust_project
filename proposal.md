# Team Members
| Name       | Student ID |
| ---------- | ---------- |
| Ming Yang  | 8888888888 |
| Xinran Ji  | 1006093843 |
| Yukun Zhou | 1010122494 |

# Motivation
- simple chat application
- for public chat purpose (course discussion etc.)
- instant grouping

# Objective & Key Features
## User Authentication
- Sign Up  
  Create a user with username and password
- Sign In  
  Type username and password to authenticate, if success, will receive the messages during absence
- Sign Out  
  Inform the server I'm down, stop sending messages
## Chat Group Management
- Creation  
  Set a simple join code to share with other people, with a limited valid time. System will inform you whether the code is available (not currently in use). If successful, the group will be created, a group id will be automatically generated by the server and assigned as the only identifier of this group.
- Administration  
  The group will be deleted if the group owner quit the group, all group members will be informed and not be able to send messages in this group anymore.
- Joining
  - By a short code within the limited time after the group was created, which reflects the feature of "instant grouping".
  - By the unique group identifier after the join code expires.
- Quitting
  - For group member, quitting a group will inform the server to stop sending new messages and disable user input.
  - For group owner, quitting means the deletion of this group, the server will perform the quitting action for every members and delete the records and other resources of this group.
  - The deletion of chat history is seperated from quitting the group, can be later done by users. The actions on chat history at server's side won't be reflected on client's side.
## Real-time Messaging
- Message Structure
  - Time stamp
  - Group id
  - Sender's user id
  - Content
- Server's Behavior
  - Validate the message by checking the group id and sender id.
  - Locate the group, append the message information to group chat history.
  - Broadcast this message to every online users, set the "updated time" record of those users to current time.
  - For current offline users, they will receive the missed messages (decided by their "updated time" record) at sign in.
## Presence Detection
- Server will maintain a status record of every user, including the timestamp of their last "heartbeat".
- While the user is logged in, the client will recurrently send a "heartbeat" message to server, that indiacates it's alive.
- The client will also explicitly inform the server of its status at signing in and out.
- The user's status is calculated upon request, decided by whether the time gap between last heartbeat and current time reaches the threshold
## Graphic User Interface
- Welcome Page  
  Allow user to sign up or sign in.
- Main Page
  - Group list, shows the groups this user joined.
  - Chat history, shows the current group's chat history, defaultly the group on top.
  - Group status, including group id, group members and their status.
  - Group setting, quit button for every one, and a group name setting for group owner.
  - Sign out button.
- New Group Page
  - Create group  
  By enter a join id, the group will be created if the join id is valid; otherwise user will be informed to try another join id. The join id will be expired after a certain time limit.
  - Join group  
  Users can join the group by a short join code within the time limit. After that, user can still use the unique group id (usually longer) to join the group.

# Tentative Plan
- timetable
- workload allocation
- 